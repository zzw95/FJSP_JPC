from collections import namedtuple
Jobshop = namedtuple('Jobshop', ['tag', 'n_orders', 'n_jobs', 'n_ops', 'n_machs', 'orders_vec', 'jobs_vec', 'ops_vec', 'vec_size', 'avail_machs', 'proc_times', 'jobs_prec'])
tag = 'inst15'
n_orders = 20
n_jobs = [6, 6, 6, 6, 6, 8, 8, 8, 8, 8,
          8, 8, 8, 8, 8, 8, 8, 8, 8, 8]

n_ops = [[1,1,1,1,3,1],
         [1,1,1,1,3,1],
         [1,1,1,1,3,1],
         [1,1,1,1,3,1],
         [1,1,1,1,3,1],
         [1,1,1,1,3,1,1,1],
         [1,1,1,1,3,1,1,1],
         [1,1,1,1,3,1,1,1],
         [1,1,1,1,3,1,1,1],
         [1,1,1,1,3,1,1,1],
         [1,1,1,1,2,2,2,1],
         [1,1,1,1,2,2,2,1],
         [1,1,1,1,2,2,2,1],
         [1,1,1,1,2,2,2,1],
         [1,1,1,1,2,2,2,1],
         [1,1,1,1,3,2,1,1],
         [1,1,1,1,3,2,1,1],
         [1,1,1,1,3,2,1,1],
         [1,1,1,1,3,2,1,1],
         [1,1,1,1,3,2,1,1]
         ]

n_machs = 12

orders_vec = [0,] *8 + [1, ]*8 + [2, ]*8 + [3, ]*8 + [4, ]*8\
                 +[5, ]*10 + [6,]*10 + [7,] *10 + [8,]*10 + [9,]*10\
             + [10,]*11 + [11,]*11 + [12,]*11 + [13,]*11 + [14,]*11 \
             + [15,]*11 + [16,]*11 + [17,]*11 + [18,]*11 + [19,]*11

jobs_vec= [0, 1, 2, 3, 4, 4, 4, 5,
           0, 1, 2, 3, 4, 4, 4, 5,
           0, 1, 2, 3, 4, 4, 4, 5,
           0, 1, 2, 3, 4, 4, 4, 5,
           0, 1, 2, 3, 4, 4, 4, 5,
           0, 1, 2, 3, 4, 4, 4, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 7,
           0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 7,
           0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 7,
           0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 7,
           0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 5, 6, 7,
           0, 1, 2, 3, 4, 4, 4, 5, 5, 6, 7]

ops_vec = list(range(200))

vec_size = 200

avail_machs = [[9,10,11], [0,1], [6,7,8], [6,7,8], [0,1], [2,3], [4,5], [9,10,11],
               [9,10,11], [0,1], [6,7,8], [6,7,8], [0,1], [2,3], [4,5], [9,10,11],
               [6,7,8], [0,1], [6,7,8], [9,10,11], [0,1], [2,3], [4,5], [9,10,11],
               [6,7,8], [0,1], [6,7,8], [9,10,11], [0,1], [2,3], [4,5], [9,10,11],
               [6,7,8], [0,1], [6,7,8], [9,10,11], [0,1], [2,3], [4,5], [9,10,11],
               [9,10,11], [2,3], [6,7,8], [6,7,8], [0,1], [4,5], [9,10,11], [6,7,8], [9,10,11], [9,10,11],
               [9,10,11], [0,1], [6,7,8], [6,7,8], [2,3], [4,5], [9,10,11], [6,7,8], [9,10,11], [9,10,11],
               [9,10,11], [2,3], [6,7,8], [6,7,8], [2,3], [4,5], [9,10,11], [6,7,8], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [6,7,8], [9,10,11], [2,3], [4,5], [9,10,11], [6,7,8], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [6,7,8], [9,10,11], [2,3], [4,5], [9,10,11], [6,7,8], [9,10,11], [9,10,11],
               [0,1], [2,3], [4,5], [9,10,11], [0,1], [6,7,8], [4,5], [6,7,8], [2,3], [4,5], [9,10,11],
               [0,1], [2,3], [4,5], [9,10,11], [2,3], [6,7,8], [0,1], [6,7,8], [2,3], [4,5], [9,10,11],
               [0,1], [2,3], [4,5], [9,10,11], [0,1], [6,7,8], [4,5], [6,7,8], [2,3], [4,5], [9,10,11],
               [0,1], [2,3], [4,5], [9,10,11], [2,3], [6,7,8], [0,1], [6,7,8], [2,3], [4,5], [9,10,11],
               [0,1], [2,3], [4,5], [9,10,11], [0,1], [6,7,8], [4,5], [6,7,8], [2,3], [4,5], [9,10,11],
               [6,7,8], [0,1], [2,3], [9,10,11], [4,5], [2,3], [6,7,8], [4,5], [0,1], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [2,3], [9,10,11], [4,5], [2,3], [6,7,8], [4,5], [0,1], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [2,3], [9,10,11], [4,5], [2,3], [6,7,8], [4,5], [0,1], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [2,3], [9,10,11], [4,5], [2,3], [6,7,8], [4,5], [0,1], [9,10,11], [9,10,11],
               [6,7,8], [0,1], [2,3], [9,10,11], [4,5], [2,3], [6,7,8], [4,5], [0,1], [9,10,11], [9,10,11]]

proc_times = [[168,174,180], [140, 152], [135,144, 157], [232, 243, 251], [283, 300], [279, 295], [160,163], [174, 181, 186],
              [190, 198, 205], [282, 290],  [205, 214, 222], [116, 126, 132], [255,270], [177, 191], [118,130], [168,182, 189],
              [75, 80, 85], [129, 141], [192, 205, 213], [176, 191, 197], [193,212], [118,130], [178,189], [190, 199, 208],
              [217, 228, 235], [187, 199], [243, 257, 263], [207,220, 225], [282,300], [172, 180], [182,196], [225, 231, 239],
              [105, 114, 123], [178, 185], [243, 260, 266], [135, 144, 150], [165, 178], [243, 260], [192, 203], [125,136, 142],
              [230, 238, 250], [233,249], [183, 189, 195], [197, 200, 211], [108, 114], [195,217], [144, 161,165], [222, 229, 236], [185, 193, 208], [165,179, 187],
              [192, 203, 211], [165, 177], [242, 253, 264], [366, 391,375], [204, 221], [185, 202], [218, 222, 228], [116, 126, 132], [174, 181, 186], [233, 238, 251],
              [125, 129, 138], [80, 85], [94, 105, 108], [152,166, 174], [136, 150], [241,253], [303, 309, 322], [204, 211, 221], [182,190, 199], [122, 133, 140],
              [144, 151, 158], [220, 228], [255,270, 276], [130,142, 149], [288, 301], [138, 154], [119,126, 131], [195, 211, 217], [225, 229, 242], [243, 249, 260],
              [242, 253, 264], [194, 213], [160,165, 178], [220, 228, 234], [193, 212], [195, 217], [187, 193, 199], [223, 225, 238], [218, 230, 235], [261, 267, 278],
              [91, 97], [155, 160],  [233, 252], [162, 176, 184], [138,151], [171, 179, 188],  [215,229], [201,212, 219], [241, 253], [166, 181], [178, 191, 195],
              [144, 160], [250, 266], [142, 156], [222, 233, 244], [119, 128], [165, 177, 183], [178, 192], [185, 189, 202], [204,217], [193,201], [125, 135, 142],
              [171, 187], [182, 199], [122, 133], [200, 210, 220], [223, 238], [123, 134, 142], [261, 278],  [220, 228, 236], [223, 238], [261, 278], [167, 179, 191],
              [282, 300], [385, 405], [256,275], [101,108, 114], [135,145], [222, 233, 244], [185,202], [174, 186, 192], [216, 230], [175, 195], [232, 240, 251],
              [240, 260], [175,191], [183,187], [171, 179, 183], [98, 109], [159,166, 174], [267, 283],  [217,229, 233], [165, 178], [193,212], [175,190, 194],
              [225, 229, 242], [199, 211], [314, 333], [135, 147, 153], [100,112], [108,116], [119,126, 131], [168, 180], [90, 96], [175, 188, 199], [178, 191, 195],
              [125, 136, 140], [186, 194], [272, 288], [293, 309, 317], [211, 228], [283, 291], [211, 218, 221], [178,189], [129, 141], [109,114, 120], [143, 146, 157],
              [185, 192, 208], [275, 290],  [89, 98], [166,181,188], [178, 192], [185, 202], [136, 150, 153], [170,180], [212, 225], [175, 184,190], [233, 249, 255],
              [149,155, 161], [221,233], [166,181], [149,160, 166], [170,180], [168, 182], [182,190, 199], [175,190], [105, 114], [194, 213, 216], [135,148, 160],
              [172, 179, 190], [189, 200], [135, 142], [195, 200, 206], [216, 230], [177, 191],  [105,114, 118], [280, 290], [233, 252], [178, 188, 192], [250, 256, 262]]


jobs_prec = [[None, None, [0,1], None, None, [0,1,2,3,4]],
             [None, None, [0,1], None, None, [0,1,2,3,4]],
             [None, None, None, [0,1,2], None, [0,1,2,3,4]],
             [None, None, None, [0,1,2], None, [0,1,2,3,4]],
             [None, None, None, [0,1,2], None, [0,1,2,3,4]],
             [None, None, [0,1], None, None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, [3,4], None, [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, [3,4], None, [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, [3,4], None, [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, [3,4], None, [0,1,2,3,4,5,6]],
             [None, None, [0,1], None, None, [3,4], None, [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]],
             [None, None, None, [0,1,2], None, None, [4,5], [0,1,2,3,4,5,6]]]

jobshop = Jobshop(tag, n_orders, n_jobs, n_ops, n_machs, orders_vec, jobs_vec, ops_vec, vec_size, avail_machs, proc_times, jobs_prec)

